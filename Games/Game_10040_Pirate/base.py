from Priatefunction import randomReel,randdict,JudgeComboKind,ComboInWinLine,AllCombo



Test_Time = 100000

base_reel_1 = [	7, 2, 8, 5, 3, 6, 2, 7, 1, 5, 1, 7, 2, 8, 3, 1, 7, 3, 8, 2, 7, 1, 8, 8, 3, 7, 3, 8, 1, 8, 0, 5, 1, 92, 6, 2, 7, 0, 8, 7, 2, 5, 8, 1, 8, 2, 7, 5, 3, 5, 7, 3, 1, 5, 7, 5, 3, 8, 2, 5, 8, 2, 7, 8, 5, 2, 8, 2, 5, 3, 6, 5, 1, 8, 3, 5, 0, 8, 3, 7, 0, 2, 6, 2, 5, 8, 3, 8, 3, 7, 2, 2, 5, 3, 7, 2, 5, 1, 8, 2, 7, 1, 7, 1, 8, 2, 5, 1, 8, 3, 7, 3, 8, 1, 7, 2, 5, 1, 8, 2, 7, 3, 5, 2, 7, 1, 5, 1, 7, 3, 5, 1, 7, 2, 5, 1, 7, 2, 5, 3, 7, 1, 7, 1, 8, 1, 5, 0, 7, 3, 5, 2, 7, 1, 6, 3, 8, 3, 7, 7, 2, 8, 1, 5, 3, 6, 1, 8, 7, 1, 5, 2, 8, 1, 7, 2, 5, 3, 8, 1, 7, 2, 8, 2, 7, 1, 8, 2, 8, 3, 7, 2, 8, 1, 8, 3, 5, 1, 8, 6, 	]
base_reel_2 = [	7, 3, 3, 7, 92, 92, 5, 0, 6, 2, 7, 92, 3, 6, 92, 5, 3, 1, 3, 5, 92, 92, 6, 0, 3, 92, 92, 6, 3, 3, 0, 7, 6, 92, 92, 0, 92, 7, 2, 6, 3, 3, 7, 92, 7, 0, 8, 2, 92, 92, 92, 7, 92, 6, 0, 7, 3, 7, 7, 6, 3, 6, 92, 0, 6, 7, 3, 2, 6, 0, 6, 3, 3, 0, 6, 7, 6, 2, 3, 0, 92, 1, 0, 6, 6, 0, 3, 3, 6, 7, 3, 6, 92, 92, 0, 6, 3, 6, 2, 7, 7, 8, 8, 3, 92, 7, 3, 7, 7, 7, 0, 6, 3, 5, 1, 92, 92, 3, 5, 92, 6, 3, 92, 3, 7, 6, 0, 6, 92, 3, 5, 92, 92, 3, 5, 3, 0, 6, 3, 8, 92, 92, 1, 6, 3, 6, 92, 92, 0, 6, 3, 0, 8, 3, 0, 3, 2, 92, 3, 2, 6, 3, 7, 0, 92, 92, 92, 0, 8, 2, 3, 6, 0, 3, 1, 6, 92, 92, 3, 3, 6, 3, 6, 92, 0, 6, 3, 0, 2, 6, 0, 8, 3, 1, 5, 1, 6, 0, 92, 3, 	]
base_reel_3 = [	6, 3, 3, 8, 92, 92, 3, 6, 3, 8, 6, 3, 0, 7, 2, 6, 92, 5, 8, 2, 92, 92, 6, 5, 1, 92, 92, 6, 8, 1, 5, 1, 8, 92, 92, 0, 3, 6, 1, 6, 5, 3, 0, 6, 5, 3, 7, 1, 92, 92, 92, 5, 8, 2, 6, 2, 5, 6, 3, 5, 1, 8, 8, 1, 92, 3, 2, 6, 1, 2, 6, 0, 8, 6, 1, 8, 6, 2, 5, 8, 2, 6, 3, 3, 8, 2, 1, 3, 1, 7, 92, 92, 92, 92, 5, 3, 3, 2, 6, 3, 92, 6, 3, 6, 92, 3, 0, 92, 6, 3, 92, 92, 7, 2, 6, 92, 92, 6, 3, 2, 3, 6, 3, 92, 6, 3, 92, 7, 1, 6, 3, 6, 3, 92, 2, 3, 92, 0, 7, 3, 92, 92, 6, 5, 2, 6, 92, 3, 6, 1, 3, 5, 1, 92, 6, 5, 92, 1, 8, 2, 5, 0, 6, 3, 6, 6, 1, 6, 3, 5, 92, 0, 6, 5, 3, 7, 92, 92, 6, 0, 92, 2, 6, 2, 5, 6, 3, 6, 1, 92, 92, 6, 1, 6, 3, 2, 6, 92, 5, 6, 	]
base_reel_4 = [	8, 2, 92, 2, 92, 92, 2, 1, 5, 92, 1, 3, 92, 3, 5, 5, 3, 7, 2, 6, 92, 92, 2, 7, 3, 92, 92, 5, 2, 3, 7, 3, 0, 92, 92, 6, 3, 5, 8, 0, 3, 1, 7, 6, 92, 7, 3, 7, 92, 92, 92, 6, 5, 1, 6, 5, 92, 7, 0, 8, 2, 1, 6, 3, 92, 1, 7, 3, 5, 1, 5, 3, 3, 5, 0, 6, 2, 2, 5, 6, 92, 5, 2, 8, 92, 92, 92, 3, 2, 8, 3, 5, 92, 92, 7, 0, 5, 2, 6, 3, 5, 3, 8, 1, 6, 3, 5, 7, 3, 92, 8, 0, 0, 92, 92, 92, 92, 8, 5, 2, 5, 3, 2, 6, 1, 92, 8, 2, 2, 8, 3, 8, 1, 92, 5, 8, 2, 5, 2, 1, 92, 92, 1, 5, 8, 3, 5, 5, 3, 7, 92, 2, 6, 1, 5, 92, 6, 5, 2, 6, 3, 7, 92, 7, 0, 7, 2, 5, 6, 3, 5, 3, 8, 0, 3, 5, 92, 92, 92, 3, 7, 1, 6, 6, 5, 6, 3, 7, 0, 92, 3, 8, 7, 1, 3, 7, 3, 5, 1, 7, 	]
base_reel_5 = [	6, 8, 92, 0, 92, 92, 5, 0, 7, 3, 92, 8, 7, 92, 8, 0, 92, 1, 7, 92, 92, 92, 8, 8, 92, 6, 1, 8, 5, 1, 8, 92, 6, 92, 92, 5, 3, 8, 92, 3, 6, 92, 5, 0, 2, 6, 0, 8, 92, 92, 92, 7, 2, 6, 0, 7, 1, 5, 2, 5, 92, 7, 8, 3, 7, 2, 5, 92, 8, 0, 5, 92, 0, 7, 6, 92, 5, 1, 3, 8, 2, 6, 92, 5, 92, 1, 7, 8, 2, 8, 1, 5, 92, 92, 3, 7, 0, 7, 5, 0, 6, 3, 7, 5, 3, 5, 3, 92, 7, 2, 0, 5, 2, 3, 7, 92, 92, 8, 2, 6, 2, 7, 92, 1, 8, 92, 7, 0, 2, 6, 7, 3, 5, 3, 2, 6, 0, 92, 92, 6, 92, 92, 0, 7, 92, 5, 0, 7, 8, 7, 8, 0, 6, 1, 7, 92, 3, 5, 2, 8, 92, 6, 1, 8, 1, 8, 92, 6, 7, 3, 5, 1, 3, 8, 92, 5, 92, 92, 92, 5, 0, 2, 6, 0, 8, 2, 5, 2, 7, 3, 8, 2, 6, 0, 7, 1, 5, 2, 92, 7, 	]

Base_reel=[base_reel_1,base_reel_2,base_reel_3,base_reel_4,base_reel_5]

Paytable = [[5,20,50,200],[0,15,40,150],[0,12,30,100],[0,12,30,100],[0,10,20,50],
            [0,10,20,50],[0,8,15,30],[0,5,10,20],[0,5,10,20]]
WildPay = [10,20,100,500]

Payline=([1,1,1,1,1],[0,0,0,0,0],[2,2,2,2,2],[0,1,2,1,0],[2,1,0,1,2],[1,0,0,0,1],[1,2,2,2,1],[0,0,1,2,2],[2,2,1,0,0],[1,2,1,0,1],[1,0,1,2,1],[0,1,1,1,0],[2,1,1,1,2],[0,1,0,1,0],[2,1,2,1,2],[1,1,0,1,1],[1,1,2,1,1],[0,0,2,0,0],[2,2,0,2,2],[0,2,2,2,0],[2,0,0,0,2],[1,2,0,2,1],[1,0,2,0,1],[0,2,0,2,0],[2,0,2,0,2],[2,0,1,2,0],[0,2,1,0,2],[0,2,1,2,0],[2,0,1,0,2],[2,1,0,0,1],[0,1,2,2,1],[0,0,2,2,2],[2,2,0,0,0],[1,0,2,1,2],[1,2,0,1,0],[0,1,0,1,2],[2,1,2,1,0],[1,2,2,0,0],[0,0,1,1,2],[2,2,1,1,0],[2,0,0,0,0],[0,2,2,2,2],[2,2,2,2,0],[0,0,0,0,2],[1,0,1,0,1],[1,2,1,2,1],[0,1,2,2,2],[2,1,0,0,0],[0,1,1,1,1],[2,1,1,1,1])


WildChange_AllCombo = AllCombo(11,3,5)
WildChange_AllCombo_Judged = JudgeComboKind(WildChange_AllCombo,Paytable,WildPay)

Line_bet = 1
Total_bet = 50
SpinWin = 0
All_Bet = 0
chit = 0
cwild = 0
test_time = 0
while test_time<Test_Time:
    '''进度打印'''
    test_time = test_time + 1
    if test_time%(Test_Time/20) == 0:
        progress = test_time/Test_Time*100
        progress = int(progress)
        print(str(progress)+"%")
    All_Bet = All_Bet + Total_bet
    spinresult = randomReel(Base_reel)
    spinresult[3][0] = 92
    spinresult[3][1] = 92
    spinresult[3][2] = 92
    for x in range(5):
        for y in range(3):
            if spinresult[x][y] == 92:
                cwild = cwild + 1
    if cwild >= 121:
        chit += 1
        cwild = 0
    '''base算钱'''
    ComboInWinLine_BASE = ComboInWinLine(spinresult, Payline)
    for combo in ComboInWinLine_BASE:
        strcombo = str(combo)
        Kinds = WildChange_AllCombo_Judged[strcombo]
        SpinWin = SpinWin + Line_bet*Kinds[1]

print(SpinWin/All_Bet)
print(Test_Time/chit)
